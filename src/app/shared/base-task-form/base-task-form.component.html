<fieldset class="mx-10" [formGroupName]="controlKey">
    <div>
        <label for="title">Titre</label>
        <input formControlName="title" id="title" required
            class="w-full bg-transparent mt-2 placeholder:text-slate-400 text-white text-sm border border-slate-200 rounded-md px-3 py-2 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-300 shadow-sm focus:shadow"
            placeholder="Titre ...">
    </div>
    @if (this.parentFormGroup.controls['base']
    .get('title')
    ?.getError('required') &&
    this.parentFormGroup.controls['base'].get('title')?.touched) {
    <span class="text-red-600 text-center w-full">Champ requis</span>
    }

    <app-priority-select formControlName="priorities" />

    @if (this.parentFormGroup.controls['base']
    .get('priorities')
    ?.getError('wrongValue') &&
    this.parentFormGroup.controls['base'].get('priorities')?.touched) {
    <span class="text-red-600 text-center w-full">Champ requis</span>
    }

    @if (task?.imgUrl) {
    <div class="mt-5">
        <img [src]="imgUrl + '/' + task?.imgUrl" alt="Image de la tâche">
    </div>
    }

    <div class="mt-5">
        <label class="block mb-2  font-medium text-white dark:text-white" for="image">Image de la tâche</label>
        <input formControlName="image" (change)="onImageChange($event)"
            class="block w-full text-sm border border-slate-200 rounded-lg cursor-pointer  text-white focus:outline-none  dark:border-gray-600 "
            id="image" type="file">
    </div>
    @if (this.parentFormGroup.controls['base']
    .get('image')
    ?.getError('required') &&
    this.parentFormGroup.controls['base'].get('image')?.touched) {
    <span class="text-red-600  w-full">Image requise</span>
    }


    <!-- <div class="relative w-full mt-5 text-white">
        <div class="absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none">
            <svg class="w-4 h-4 text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                viewBox="0 0 20 20">
                <path
                    d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" />
            </svg>
        </div>
        <input datepicker id="datepicker" type="text" formControlName="creationDate"
            class=" border text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
            placeholder="Séléctionner une date">
    </div>
    @if (this.parentFormGroup.controls['base']
    .get('creationDate')
    ?.getError('required') &&
    this.parentFormGroup.controls['base'].get('creationDate')?.touched) {
    <span class="text-red-600  w-full">Date requise</span>
    } -->

</fieldset>